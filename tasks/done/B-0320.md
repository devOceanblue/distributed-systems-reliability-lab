# B-0320 — experiment-harness: scripts/exp + 자동 검증(assert)

## Goal
모든 실험을 1커맨드로 실행하고 결과를 SQL/Redis/Kafka로 검증한다.

## CLI Spec
- ./scripts/exp run E-001
- ./scripts/exp assert E-001
- ./scripts/exp cleanup E-001
- ./scripts/exp list

## Harness Responsibilities
- 환경변수 토글 세팅(성공/실패 모드 전환)
- 서비스 기동/종료(또는 docker restart)
- 입력 트래픽 생성(HTTP calls / k6)
- 검증:
  - MySQL: balance, ledger count, processed_event count
  - Redis: key 존재/값/TTL
  - Kafka: DLQ 메시지 카운트(간단히 UI 또는 consumer로 확인)

## Deliverables
- `scripts/exp` (bash)
- `scripts/assert/*.sh` (실험별 검증 스크립트)
- `experiments/` 각 문서에 “자동 검증 기준” 포함

## Acceptance Criteria
- 최소 E-001~E-004는 run/assert/cleanup이 자동으로 동작
