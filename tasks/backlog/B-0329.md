# B-0329 — Experiment E-009: ISR/min.insync/acks 조합 실험(내구성 vs 가용성)

## Goal
- RF=3에서 ISR 변화와 min.insync.replicas 설정에 따라 producer 성공/실패가 어떻게 달라지는지 재현한다.
- (선택) 브로커 다운 시나리오로 NotEnoughReplicas를 관측한다.

## Setup
- topic RF=3
- Case A: min.insync.replicas=2, producer acks=all
- Case B: min.insync.replicas=1, producer acks=all

## Steps
1) Case A에서 broker 1대 down → produce 계속 성공(대체로 ISR=2 유지)
2) broker 2대 down → ISR=1 → produce 실패(NotEnoughReplicas) 기대
3) Case B에서 broker 2대 down → produce는 성공할 수도 있으나 내구성 리스크 증가 설명/관측
4) 결과를 Runbook에 정리

## Deliverables
- `experiments/E-009-isr-minisr-acks.md`
- `scripts/exp`에 broker stop/start 유틸 추가
