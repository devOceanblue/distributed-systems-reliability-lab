# B-0356 — Schema Registry on AWS: Confluent SR(ECS) vs Glue Schema Registry 결정

## Goal
현재 Avro + Schema Registry 기반이면,
AWS에서도 동일 체인을 유지할지(Confluent SR를 ECS/EKS로 운영),
아니면 Glue Schema Registry로 전환할지 결정을 내려야 한다.

## Options
### A) Confluent Schema Registry를 ECS/Fargate로 운영
- 장점: 로컬과 동일한 SR 운영 모델
- 단점: SR 자체도 MSK IAM 인증 설정 필요(자바 클라이언트 플러그인 클래스패스)
- 운영 요소: _schemas 토픽 권한, SR HA(2개 이상) 고려

### B) AWS Glue Schema Registry
- 장점: AWS managed, IAM과 자연스러운 통합
- 단점: 클라이언트/직렬화 코드 변경(Confluent serde 대체), 실험 설계 영향

## Scope
- 요구사항 정리(compatibility check, evolution policy)
- PoC 1개 선택 후 최소 기능 구현:
    - schema 등록
    - producer serialize
    - consumer deserialize
    - breaking change 차단(compatibility)

## Deliverables
- docs/SCHEMA_REGISTRY_DECISION.md (ADR 형태)
- (선택 A) infra/aws/ecs/schema-registry/*
- (선택 B) glue registry + client code PoC

## Acceptance Criteria
- AWS에서 schema evolution 차단이 재현 가능
- 로컬과 AWS의 스키마 운영 방식이 문서로 명확히 분리됨
