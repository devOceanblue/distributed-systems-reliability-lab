# B-0315 — replay-worker: DLQ replay(통제) + audit

## Goal
DLQ에 쌓인 메시지를 “통제된 재처리”로 복구한다. (dedup_key 기반 안전장치 포함)

## Features
- DLQ topic consume
- filter:
  - account_id range
  - event_type
  - time window
- rate limit: N msg/s
- output:
  - main 또는 retry 토픽으로 재발행
- audit:
  - replay_audit에 dedup_key 기록

## Safety
- dedup_key 없는 메시지는 replay 금지
- dry-run 모드 제공(카운트만)

## Deliverables
- `services/replay-worker` (Spring Boot CLI 또는 runner)
- `experiments/E-005-dlq-replay.md`에 실행 예시 추가

## Acceptance Criteria
- DLQ에 넣은 메시지가 replay로 main에 재발행되고,
  processed_event로 인해 중복은 무해함이 증명됨
